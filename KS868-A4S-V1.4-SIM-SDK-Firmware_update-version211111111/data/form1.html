<div class=container1>
    <div style=text-align:center;font-weight:700><span style=width:70%;text-align:center><span
                style=color:green>{GlobalWebsiteResponseMessage}</span> <span
                style=color:red>{GlobalWebsiteErrorMessage}</span></span></div>
    <div>
        <div id=divAccountExpired style=color:red;display:none;font-weight:700;font-size:20px>Your Account is expired on
            {cloud_account_expire}. Alarm Events are Not working.</div>
        <div class=tab><button class=tablinks onclick='openTabContent(event,"tab1")' id=defaultOpen>Alarm
                Settings</button> <button class=tablinks onclick='openTabContent(event,"tab2")'>Relay Settings</button>
        </div>
        <div class=tabcontent id=tab1>
            <form action=/submit-form1 class=form1 click="return verifyform()" method=POST style=background-color:#ddd>
                <table>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Network Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label for=connectionType>Active Connection Type</label>
                                        <td><select onchange="toggleConnectionFields()" id=wifi_or_ethernet
                                                name=wifi_or_ethernet style=width:200px>
                                                <option value=1>WiFi
                                                <option value=0>Ethernet
                                            </select>
                                    <tr id=wifiFields>
                                        <td><label for=wifiSsid>Wifi SSID Name:</label>
                                        <td><input id=wifi_ssid name=wifi_ssid style=width:200px value={wifi_ssid}>
                                    <tr id=wifiPasswordField>
                                        <td><label for=wifiPass>Wifi Password:</label>
                                        <td><input id=wifi_password name=wifi_password style=width:200px
                                                value={wifi_password}>
                                    <tr id=wifiIpField>
                                        <td><label for=wifiIp>WiFi IP:</label>
                                        <td><input id=wifi_ip name=wifi_ip style=width:200px readonly value={wifi_ip}>
                                    <tr id=wifigateway>
                                        <td><label for=ethGateway>Wifi Gateway:</label>
                                        <td><input id=wifi_gateway name=wifi_gateway style=width:200px readonly
                                                value={wifi_gateway}>
                                    <tr id=wifiEthernet>
                                        <td><label for=ethSubnet>Ethernet Subnet:</label>
                                        <td><input id=wifi_subnet name=wifi_subnet style=width:200px readonly
                                                value={wifi_subnet}>

                                    <tr id=ethernetFields style=display:none1>
                                        <td style=width:500px><label for=ethIp>Ethernet IP:</label>
                                        <td><input id=eth_ip name=eth_ip style=width:200px value={eth_ip}>
                                    <tr id=ethGatewayField style=display:none1>
                                        <td><label for=ethGateway>Ethernet Gateway:</label>
                                        <td><input id=eth_gateway name=eth_gateway style=width:200px
                                                value={eth_gateway}>
                                    <tr id=ethSubnetField style=display:none1>
                                        <td><label for=ethSubnet>Ethernet Subnet:</label>
                                        <td><input id=eth_subnet name=eth_subnet style=width:200px value={eth_subnet}>
                                </table>
                            </div>

                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Device Info</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label for=wifiIp>Device Serial Number:</label>
                                        <td><input id=device_serial_number name=device_serial_number
                                                style=width:200px;font-weight:700 value={device_serial_number} readonly>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Server Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label for=serverURL>Server API URL:</label>
                                        <td><input id=server_url name=server_url style=width:200px value={server_url}
                                                required>
                                    <tr>
                                        <td><label for=serverURL1>Heartbeat Interval(Seconds):</label>
                                        <td><select id=heartbeat name=heartbeat style=width:200px
                                                value={heartbeat}></select>
                                    <tr>
                                        <td><label for=serverURL3>Socket IP address:</label>
                                        <td><input id=server_ip name=server_ip style=width:200px value={server_ip}
                                                required>
                                    <tr>
                                        <td><label for=serverURL3>Socket Port :</label>
                                        <td><input id=server_port name=server_port style=width:200px value={server_port}
                                                required>
                                            <div id=socketConnectionStatus></div>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Temperature Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label for=temp_checkbox>Temperature:</label>
                                        <td><label for=temp_checkbox
                                                style=cursor:pointer;display:inline-block;width:200px title=SMS><input
                                                    id=temp_checkbox name=temp_checkbox style=width:30px value=1
                                                    type=checkbox
                                                    onclick='toggleInput("temp_checkbox","max_temperature"),toggleInput("temp_checkbox","min_temperature"),toggleTempAlerts()'>
                                                Enable</label>
                                    <tr>
                                        <td><label for=max_temperature>Max Temperature Threshold (numbers):</label>
                                        <td><input id=max_temperature name=max_temperature style=width:200px type=number
                                                disabled required step=0.1>
                                    <tr>
                                        <td><label for=min_temperature>Min Temperature Threshold (numbers):</label>
                                        <td><input id=min_temperature name=min_temperature style=width:200px type=number
                                                disabled required step=0.1>
                                    <tr>
                                        <td><label for=min_temperature>Notifications:</label>
                                        <td><label for=temperature_alert_sms
                                                style=cursor:pointer;display:inline-block;width:120px title=SMS><input
                                                    id=temperature_alert_sms name=temperature_alert_sms style=width:30px
                                                    value=sms type=checkbox disabled> SMS</label> <label
                                                for=temperature_alert_call
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title="Mobile Call"><input id=temperature_alert_call
                                                    name=temperature_alert_call style=width:30px value=call
                                                    type=checkbox disabled> Mobile Call</label> <label
                                                for=temperature_alert_whatsapp
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title=Whatsapp><input id=temperature_alert_whatsapp
                                                    name=temperature_alert_whatsapp style=width:30px value=whatsapp
                                                    type=checkbox disabled> Whatsapp</label>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Humidity Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label for=humidity_checkbox>Humidity:</label>
                                        <td><label for=humidity_checkbox
                                                style=cursor:pointer;display:inline-block;width:200px title=SMS><input
                                                    id=humidity_checkbox name=humidity_checkbox style=width:30px value=1
                                                    type=checkbox
                                                    onclick='toggleInput("humidity_checkbox","max_humidity"),togglehumidiyAlerts()'>
                                                Enable</label>
                                    <tr>
                                        <td><label for=max_humidity>Humidity Threshold (numbers):</label>
                                        <td><input id=max_humidity name=max_humidity style=width:200px type=number
                                                disabled required step=0.1>
                                    <tr>
                                        <td><label for=min_temperature>Notifications:</label>
                                        <td><label for=humidity_alert_sms
                                                style=cursor:pointer;display:inline-block;width:120px title=SMS><input
                                                    id=humidity_alert_sms name=humidity_alert_sms style=width:30px
                                                    value=sms type=checkbox disabled> SMS</label> <label
                                                for=humidity_alert_call
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title="Mobile Call"><input id=humidity_alert_call
                                                    name=humidity_alert_call style=width:30px value=call type=checkbox
                                                    disabled> Mobile Call</label> <label for=humidity_alert_whatsapp
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title=Whatsapp><input id=humidity_alert_whatsapp
                                                    name=humidity_alert_whatsapp style=width:30px value=whatsapp
                                                    type=checkbox disabled> Whatsapp</label>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Water Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label>Water Leakage:</label>
                                        <td><label for=water_checkbox
                                                style=cursor:pointer;display:inline-block;width:200px title=SMS><input
                                                    id=water_checkbox name=water_checkbox style=width:30px value=1
                                                    type=checkbox onclick=toggleWaterAlerts()> Enable</label>
                                    <tr>
                                        <td><label for=min_temperature>Notifications:</label>
                                        <td><label for=water_alert_sms
                                                style=cursor:pointer;display:inline-block;width:120px title=SMS><input
                                                    id=water_alert_sms name=water_alert_sms style=width:30px value=sms
                                                    type=checkbox disabled> SMS</label> <label for=water_alert_call
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title="Mobile Call"><input id=water_alert_call name=water_alert_call
                                                    style=width:30px value=call type=checkbox disabled> Mobile
                                                Call</label> <label for=water_alert_whatsapp
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title=Whatsapp><input id=water_alert_whatsapp name=water_alert_whatsapp
                                                    style=width:30px value=whatsapp type=checkbox disabled>
                                                Whatsapp</label>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Fire Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label>Fire:</label>
                                        <td><label for=fire_checkbox
                                                style=cursor:pointer;display:inline-block;width:200px title=SMS><input
                                                    id=fire_checkbox name=fire_checkbox style=width:30px value=1
                                                    type=checkbox onclick=toggleFireAlerts()> Enable</label>
                                    <tr>
                                        <td><label for=min_temperature>Notifications:</label>
                                        <td><label for=fire_alert_sms
                                                style=cursor:pointer;display:inline-block;width:120px title=SMS><input
                                                    id=fire_alert_sms name=fire_alert_sms style=width:30px value=sms
                                                    type=checkbox disabled> SMS</label> <label for=fire_alert_call
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title="Mobile Call"><input id=fire_alert_call name=fire_alert_call
                                                    style=width:30px value=call type=checkbox disabled> Mobile
                                                Call</label> <label for=fire_alert_whatsapp
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title=Whatsapp><input id=fire_alert_whatsapp name=fire_alert_whatsapp
                                                    style=width:30px value=whatsapp type=checkbox disabled>
                                                Whatsapp</label>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Power Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label>Power:</label>
                                        <td><label for=power_checkbox
                                                style=cursor:pointer;display:inline-block;width:200px title=SMS><input
                                                    id=power_checkbox name=power_checkbox style=width:30px value=1
                                                    type=checkbox onclick=togglePowerAlerts()> Enable</label>
                                    <tr>
                                        <td><label>Notifications:</label>
                                        <td><label for=power_alert_sms
                                                style=cursor:pointer;display:inline-block;width:120px title=SMS><input
                                                    id=power_alert_sms name=power_alert_sms style=width:30px value=sms
                                                    type=checkbox disabled> SMS</label> <label for=power_alert_call
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title="Mobile Call"><input id=power_alert_call name=power_alert_call
                                                    style=width:30px value=call type=checkbox disabled> Mobile
                                                Call</label> <label for=power_alert_whatsapp
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title=Whatsapp><input id=power_alert_whatsapp name=power_alert_whatsapp
                                                    style=width:30px value=whatsapp type=checkbox disabled>
                                                Whatsapp</label>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Door Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label>Door Contact:</label>
                                        <td><label for=door_checkbox
                                                style=cursor:pointer;display:inline-block;width:200px title=SMS><input
                                                    id=door_checkbox name=door_checkbox style=width:30px value=1
                                                    type=checkbox
                                                    onclick='toggleInput("door_checkbox","max_doorcontact"),toggleDoorAlerts()'>
                                                Enable</label>
                                    <tr>
                                        <td><label for=max_doorcontact>Door Contact Waiting(Seconds) :</label>
                                        <td><select id=max_doorcontact name=max_doorcontact style=width:200px
                                                value={max_doorcontact} disabled></select>
                                    <tr>
                                        <td><label>Notifications:</label>
                                        <td><label for=door_alert_sms
                                                style=cursor:pointer;display:inline-block;width:120px title=SMS><input
                                                    id=door_alert_sms name=door_alert_sms style=width:30px value=sms
                                                    type=checkbox disabled> SMS</label> <label for=door_alert_call
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title="Mobile Call"><input id=door_alert_call name=door_alert_call
                                                    style=width:30px value=call type=checkbox disabled> Mobile
                                                Call</label> <label for=door_alert_whatsapp
                                                style=cursor:pointer;display:inline-block;width:150px
                                                title=Whatsapp><input id=door_alert_whatsapp name=door_alert_whatsapp
                                                    style=width:30px value=whatsapp type=checkbox disabled>
                                                Whatsapp</label>
                                </table>
                            </div>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Siren Settings</div>
                                <table>
                                    <tr>
                                        <td style=width:500px><label for=siren_checkbox>Siren Sound:</label>
                                        <td><label for=siren_checkbox
                                                style=cursor:pointer;display:inline-block;width:200px title=SMS><input
                                                    id=siren_checkbox name=siren_checkbox style=width:30px value=1
                                                    type=checkbox
                                                    onclick='toggleInput("siren_checkbox","max_siren_play"),toggleInput("siren_checkbox","max_siren_pause")'>
                                                Enable</label>
                                    <tr>
                                        <td><label for=max_siren_play>Siren Play(Seconds) :</label>
                                        <td><select id=max_siren_play name=max_siren_play style=width:200px
                                                value={max_siren_play} disabled></select>
                                    <tr>
                                        <td style=width:500px><label for=max_siren_pause>Siren Pause Time(Seconds)
                                                :</label>
                                        <td><select id=max_siren_pause name=max_siren_pause style=width:200px
                                                value={max_siren_pause} disabled></select>
                                    <tr>
                                        <td>
                                        <td><input value="Update Settings" type=submit>
                                </table>
                            </div>
                </table>
            </form>
        </div>
        <div class=tabcontent id=tab2>
            <div style="width:100%; background-color:#ddd">
                <table>
                    <tr>
                        <td>
                            <div class=card>
                                <div class=card-title>Relay List</div>

                                <div>
                                    <div>
                                        <p>FAN (Relay 1)
                                            <a href='#' onclick="updateRelayStatus(0,'relaystatus0');"><button>
                                                    <div id="relaystatus0">OFF</div>
                                                </button></a>
                                        </p>
                                        <p>AC (Relay 2)
                                            <a href='#' onclick="updateRelayStatus(1,'relaystatus1');"><button>
                                                    <div id="relaystatus1">OFF</div>
                                                </button></a>
                                        </p>
                                        <p>Light (Relay 3)
                                            <a href='#' onclick="updateRelayStatus(2,'relaystatus2');"><button>
                                                    <div id="relaystatus2">OFF</div>
                                                </button></a>
                                        </p>
                                        <p>Siren (Relay 4)
                                            <a href='#' onclick="updateRelayStatus(3,'relaystatus3');"><button>
                                                    <div id="relaystatus3">OFF</div>
                                                </button></a>
                                        </p>
                                    </div>
                                </div>

                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <script>function openTabContent(e, t) { var n, a, l; for (a = document.getElementsByClassName("tabcontent"), n = 0; n < a.length; n++)a[n].style.display = "none"; for (l = document.getElementsByClassName("tablinks"), n = 0; n < l.length; n++)l[n].className = l[n].className.replace(" active", ""); document.getElementById(t).style.display = "block", e.currentTarget.className += " active" } document.getElementById("defaultOpen").click()</script>
    </div>
</div>
<script>function toggleConnectionFields() {
        const connectionType = document.getElementById('wifi_or_ethernet').value;
        const wifiFields = document.getElementById('wifiFields');
        const wifiPasswordField = document.getElementById('wifiPasswordField');
        const wifiIpField = document.getElementById('wifiIpField');
        const wifigateway = document.getElementById('wifigateway');
        const wifiEthernet = document.getElementById('wifiEthernet');




        const ethernetFields = document.getElementById('ethernetFields');
        const ethGatewayField = document.getElementById('ethGatewayField');
        const ethSubnetField = document.getElementById('ethSubnetField');

        if (connectionType === '1') { // WiFi selected
            wifiFields.style.display = '';
            wifiPasswordField.style.display = '';
            wifiIpField.style.display = '';
            wifigateway.style.display = '';
            wifiEthernet.style.display = '';



            ethernetFields.style.display = 'none';
            ethGatewayField.style.display = 'none';
            ethSubnetField.style.display = 'none';
        } else { // Ethernet selected
            wifiFields.style.display = 'none';
            wifiPasswordField.style.display = 'none';
            wifiIpField.style.display = 'none';
            wifigateway.style.display = 'none';
            wifiEthernet.style.display = 'none';



            ethernetFields.style.display = '';
            ethGatewayField.style.display = '';
            ethSubnetField.style.display = '';
        }
    }

    // Initialize on page load //document ready
    document.addEventListener('DOMContentLoaded', function () {
        toggleConnectionFields();



        let selectElement = document.getElementById("heartbeat");
        let options = generateTimeOptionsHeartbeat();

        options.forEach(opt => {
            const optionElement = document.createElement("option");
            optionElement.value = opt.value;
            optionElement.textContent = opt.label;
            selectElement.appendChild(optionElement);
        });

        options = generateTimeOptions();

        selectElement = document.getElementById("max_doorcontact");

        options.forEach(opt => {
            const optionElement = document.createElement("option");
            optionElement.value = opt.value;
            optionElement.textContent = opt.label;
            selectElement.appendChild(optionElement);
        });

        selectElement = document.getElementById("max_siren_play");

        options.forEach(opt => {
            const optionElement = document.createElement("option");
            optionElement.value = opt.value;
            optionElement.textContent = opt.label;
            selectElement.appendChild(optionElement);
        });

        selectElement = document.getElementById("max_siren_pause");

        options.forEach(opt => {
            const optionElement = document.createElement("option");
            optionElement.value = opt.value;
            optionElement.textContent = opt.label;
            selectElement.appendChild(optionElement);
        });



        loadConfigFileData();



    });


    function toggleInput(checkboxId, inputId) {
        document.getElementById(inputId).disabled = !document.getElementById(checkboxId).checked;

        if (!document.getElementById(checkboxId).checked) {
            document.getElementById(inputId).value = '';
        }
    }

    function toggleTempAlerts() {
        document.getElementById("temperature_alert_sms").disabled = !document.getElementById("temp_checkbox").checked;
        document.getElementById("temperature_alert_call").disabled = !document.getElementById("temp_checkbox").checked;
        document.getElementById("temperature_alert_whatsapp").disabled = !document.getElementById("temp_checkbox").checked;

        if (!document.getElementById("temp_checkbox").checked) {
            document.getElementById("temperature_alert_sms").checked = false;
            document.getElementById("temperature_alert_call").checked = false;
            document.getElementById("temperature_alert_whatsapp").checked = false;
        }

    }
    function togglehumidiyAlerts() {
        document.getElementById("humidity_alert_sms").disabled = !document.getElementById("humidity_checkbox").checked;
        document.getElementById("humidity_alert_call").disabled = !document.getElementById("humidity_checkbox").checked;
        document.getElementById("humidity_alert_whatsapp").disabled = !document.getElementById("humidity_checkbox").checked;

        if (!document.getElementById("humidity_checkbox").checked) {
            document.getElementById("humidity_alert_sms").checked = false;
            document.getElementById("humidity_alert_call").checked = false;
            document.getElementById("humidity_alert_whatsapp").checked = false;
        }

    }
    function toggleWaterAlerts() {
        document.getElementById("water_alert_sms").disabled = !document.getElementById("water_checkbox").checked;
        document.getElementById("water_alert_call").disabled = !document.getElementById("water_checkbox").checked;
        document.getElementById("water_alert_whatsapp").disabled = !document.getElementById("water_checkbox").checked;

        if (!document.getElementById("water_checkbox").checked) {
            document.getElementById("water_alert_sms").checked = false;
            document.getElementById("water_alert_call").checked = false;
            document.getElementById("water_alert_whatsapp").checked = false;
        }

    }
    function toggleFireAlerts() {
        document.getElementById("fire_alert_sms").disabled = !document.getElementById("fire_checkbox").checked;
        document.getElementById("fire_alert_call").disabled = !document.getElementById("fire_checkbox").checked;
        document.getElementById("fire_alert_whatsapp").disabled = !document.getElementById("fire_checkbox").checked;

        if (!document.getElementById("fire_checkbox").checked) {
            document.getElementById("fire_alert_sms").checked = false;
            document.getElementById("fire_alert_call").checked = false;
            document.getElementById("fire_alert_whatsapp").checked = false;
        }

    }
    function togglePowerAlerts() {
        document.getElementById("power_alert_sms").disabled = !document.getElementById("power_checkbox").checked;
        document.getElementById("power_alert_call").disabled = !document.getElementById("power_checkbox").checked;
        document.getElementById("power_alert_whatsapp").disabled = !document.getElementById("power_checkbox").checked;

        if (!document.getElementById("power_checkbox").checked) {
            document.getElementById("power_alert_sms").checked = false;
            document.getElementById("power_alert_call").checked = false;
            document.getElementById("power_alert_whatsapp").checked = false;
        }

    }
    function toggleDoorAlerts() {
        document.getElementById("door_alert_sms").disabled = !document.getElementById("door_checkbox").checked;
        document.getElementById("door_alert_call").disabled = !document.getElementById("door_checkbox").checked;
        document.getElementById("door_alert_whatsapp").disabled = !document.getElementById("door_checkbox").checked;

        if (!document.getElementById("door_checkbox").checked) {
            document.getElementById("door_alert_sms").checked = false;
            document.getElementById("door_alert_call").checked = false;
            document.getElementById("door_alert_whatsapp").checked = false;
        }

    }</script>
<script>function generateTimeOptionsHeartbeat() {
        const options = [];
        const increments = [5, 10, 15, 30]; // Time increments in seconds and minutes

        // Generate options for seconds (5s to 55s)
        for (let sec = 1; sec <= 10; sec += 1) {
            options.push({ id: 'heartbeat', value: sec, label: `${sec} seconds` });
        }


        return options;
    }
    function generateTimeOptions() {
        const options = [];
        const increments = [5, 10, 15, 30]; // Time increments in seconds and minutes

        // Generate options for seconds (5s to 55s)
        for (let sec = 5; sec < 60; sec += 5) {
            options.push({ id: 'heartbeat', value: sec, label: `${sec} seconds` });
        }

        // Generate options for minutes (1 min to 60 min)
        for (let min = 1; min <= 60; min += 1) {
            if (min == 0)
                options.push({ id: 'heartbeat', value: (min + 1) * 60, label: `${(min + 1)} minute${(min + 1) > 1 ? 's' : ''}` });
            else
                options.push({ id: 'heartbeat', value: min * 60, label: `${min} minute${min > 1 ? 's' : ''}` });
        }

        return options;
    }</script>
<script>function loadConfigFileData() {


        const content = document.getElementById("config_json").value;

        console.log(content); // Raw text content
        try {
            const jsonData = JSON.parse(content);
            console.info(jsonData);

            // Access individual properties
            console.info("WiFi SSID:", jsonData.wifi_ssid);
            console.info("Ethernet IP:", jsonData.eth_ip);
            console.info("Server URL:", jsonData.server_url);

            document.getElementById('wifi_ssid').value = jsonData.wifi_ssid == "{wifi_ssid}" ? '' : jsonData.wifi_ssid;
            document.getElementById('wifi_password').value = jsonData.wifi_password == "{wifi_password}" ? '' : jsonData.wifi_password;
            document.getElementById('wifi_ip').value = jsonData.wifi_ip == "{wifi_ip}" ? '' : jsonData.wifi_ip;
            document.getElementById('wifi_or_ethernet').value = jsonData.wifi_or_ethernet == "{wifi_or_ethernet}" ? '' : jsonData.wifi_or_ethernet;

            document.getElementById('wifi_gateway').value = jsonData.wifi_gateway == "{wifi_gateway}" ? '' : jsonData.wifi_gateway;
            document.getElementById('wifi_subnet').value = jsonData.wifi_subnet == "{wifi_subnet}" ? '' : jsonData.wifi_subnet;


            document.getElementById('eth_ip').value = jsonData.eth_ip == "{eth_ip}" ? '' : jsonData.eth_ip;
            document.getElementById('eth_gateway').value = jsonData.eth_gateway == "{eth_gateway}" ? '' : jsonData.eth_gateway;
            document.getElementById('eth_subnet').value = jsonData.eth_subnet == "{eth_subnet}" ? '' : jsonData.eth_subnet;

            document.getElementById('device_serial_number').value = jsonData.device_serial_number == "{device_serial_number}" ? '' : jsonData.device_serial_number;


            document.getElementById('server_url').value = jsonData.server_url == "{server_url}" ? '' : jsonData.server_url;
            document.getElementById('heartbeat').value = jsonData.heartbeat == "{heartbeat}" ? '' : jsonData.heartbeat;
            document.getElementById('server_ip').value = jsonData.server_ip == "{server_ip}" ? '' : jsonData.server_ip;
            document.getElementById('server_port').value = jsonData.server_port == "{server_port}" ? '' : jsonData.server_port;

            document.getElementById('min_temperature').value = jsonData.min_temperature == "{min_temperature}" ? '' : jsonData.min_temperature;
            document.getElementById('max_temperature').value = jsonData.max_temperature == "{max_temperature}" ? '' : jsonData.max_temperature;


            document.getElementById('max_humidity').value = jsonData.max_humidity == "{max_humidity}" ? '' : jsonData.max_humidity;


            document.getElementById('max_doorcontact').value = jsonData.max_doorcontact == "{max_doorcontact}" ? '' : jsonData.max_doorcontact;
            document.getElementById('max_siren_play').value = jsonData.max_siren_play == "{max_siren_play}" ? '' : jsonData.max_siren_play;
            document.getElementById('max_siren_pause').value = jsonData.max_siren_pause == "{max_siren_pause}" ? '' : jsonData.max_siren_pause;

            document.getElementById('temp_checkbox').checked = jsonData.temp_checkbox;
            document.getElementById('water_checkbox').checked = jsonData.water_checkbox;
            document.getElementById('fire_checkbox').checked = jsonData.fire_checkbox;
            document.getElementById('power_checkbox').checked = jsonData.power_checkbox;
            document.getElementById('door_checkbox').checked = jsonData.door_checkbox;
            document.getElementById('siren_checkbox').checked = jsonData.siren_checkbox;
            document.getElementById('humidity_checkbox').checked = jsonData.humidity_checkbox;

            document.getElementById('humidity_checkbox').checked = jsonData.humidity_checkbox;
            document.getElementById('humidity_checkbox').checked = jsonData.humidity_checkbox;
            document.getElementById('humidity_checkbox').checked = jsonData.humidity_checkbox;
            document.getElementById('humidity_checkbox').checked = jsonData.humidity_checkbox;



            for (let i = 0; i < 4; i++) {
                const element = document.getElementById("relaystatus" + i);
                const isOn = jsonData["relay" + i];
                element.innerHTML = isOn ? 'ON' : 'OFF';
                // element.style.backgroundColor = isOn ? 'green' : 'red';
                // element.style.color = 'white'; // ✅ Set font color to white
            }



            toggleInput('temp_checkbox', 'max_temperature');
            toggleInput('temp_checkbox', 'min_temperature')
            toggleInput('siren_checkbox', 'max_siren_play');
            toggleInput('siren_checkbox', 'max_siren_pause');
            toggleInput('door_checkbox', 'max_doorcontact');
            toggleInput('humidity_checkbox', 'max_humidity');



            toggleConnectionFields();
            toggleDoorAlerts();
            toggleFireAlerts();

            togglePowerAlerts();
            toggleTempAlerts();
            toggleWaterAlerts();
            togglehumidiyAlerts();


            if (jsonData.cloudAccountActiveDaysRemaining <= 0) {
                alert("Your Account is Expired. Contact Service Provider.");

                document.getElementById("divAccountExpired").style.display = "block";
            }
            else
                if (jsonData.cloudAccountActiveDaysRemaining < 30) {
                    alert("Your Account will expire in " + jsonData.cloudAccountActiveDaysRemaining + " days and De-Activate Alarm Events automatically");
                }


        } catch (error) {
            console.error("Error parsing JSON:", error);
        }

    }
    function verifyform() {

        if (document.getElementById('temp_checkbox').checked) {
            let min_temperature = document.getElementById('min_temperature').value;
            let max_temperature = document.getElementById('max_temperature').value;

            min_temperature = parseFloat(min_temperature);
            if (isNaN(min_temperature)) {
                alert("Invalid Temperature Value")
                return false;
            }

        }
        alert("Ok")
        return true;


        return false; // Allow submission
    }

    function updateRelayStatus(relayid, divID) {


        document.getElementById(divID).innerHTML = document.getElementById(divID).innerHTML == 'ON' ? 'OFF' : 'ON';
        fetch('http://{ipAddress}/changerelay_status?num=' + relayid) // Replace with your API
            .then(response => response.json())
            .then(data => {

                document.getElementById(divID).innerHTML = document.getElementById(divID).innerHTML == 'ON' ? 'OFF' : 'ON';

            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
    }
    function fetchData() {
        fetch('http://{ipAddress}/getconfig') // Replace with your actual IP or hostname
            .then(response => response.json())
            .then(data => {
                console.log('Fetched data:', data);

                // If config_json is a <textarea>
                document.getElementById("config_json").value = JSON.stringify(data, null, 2);

                // Call your config loader
                loadConfigFileData();
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
    }

    // Call fetchData every 5000 milliseconds (5 seconds)
    setInterval(fetchData, 1000 * 5);


</script>